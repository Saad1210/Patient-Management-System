<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Management System</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { Search, Plus, X, User, FileText, Pill, LogOut } = lucide;
        
        const PatientManagementApp = () => {
          const [isLoggedIn, setIsLoggedIn] = React.useState(false);
          const [isSignup, setIsSignup] = React.useState(true);
          const [view, setView] = React.useState('patients');
          const [patients, setPatients] = React.useState([]);
          const [medicines, setMedicines] = React.useState([
            { id: '1', name: 'Paracetamol 500mg', type: 'Tablet', description: 'Pain reliever' },
            { id: '2', name: 'Amoxicillin 250mg', type: 'Capsule', description: 'Antibiotic' },
            { id: '3', name: 'Ibuprofen 400mg', type: 'Tablet', description: 'Anti-inflammatory' },
          ]);
          const [prescriptions, setPrescriptions] = React.useState([]);
          const [selectedPatient, setSelectedPatient] = React.useState(null);
          const [searchTerm, setSearchTerm] = React.useState('');
          const [showAddPatient, setShowAddPatient] = React.useState(false);
          const [showAddMedicine, setShowAddMedicine] = React.useState(false);
          const [showPrescriptionForm, setShowPrescriptionForm] = React.useState(false);
          const [name, setName] = React.useState('');
          const [email, setEmail] = React.useState('');
          const [password, setPassword] = React.useState('');
          const [doctorName, setDoctorName] = React.useState('');
          const [error, setError] = React.useState('');
          const [successMessage, setSuccessMessage] = React.useState('');

          React.useEffect(() => {
            loadData();
          }, []);

          React.useEffect(() => {
            if (successMessage) {
              const timer = setTimeout(() => setSuccessMessage(''), 3000);
              return () => clearTimeout(timer);
            }
          }, [successMessage]);

          const showSuccess = (message) => {
            setSuccessMessage(message);
          };

          const loadData = async () => {
            try {
              const acc = await window.storage.get('doctor_account');
              if (acc) setIsSignup(false);

              const pts = await window.storage.get('patients');
              const meds = await window.storage.get('medicines');
              const rxs = await window.storage.get('prescriptions');
              
              if (pts) setPatients(JSON.parse(pts.value));
              if (meds) setMedicines(JSON.parse(meds.value));
              if (rxs) setPrescriptions(JSON.parse(rxs.value));
            } catch (e) {}
          };

          const handleSubmit = async () => {
            setError('');
            
            if (isSignup) {
              if (!name || !email || !password) {
                setError('Please fill in all required fields: name, email, and password');
                return;
              }
              if (password.length < 6) {
                setError('Password must be at least 6 characters long');
                return;
              }
              if (!email.includes('@')) {
                setError('Please enter a valid email address');
                return;
              }
              try {
                await window.storage.set('doctor_account', JSON.stringify({ name, email, password }));
                setDoctorName(name);
                setIsLoggedIn(true);
              } catch (e) {
                setError(`Signup failed: ${e.message || 'Unable to save account data. Please try again.'}`);
              }
            } else {
              if (!email || !password) {
                setError('Please enter both email and password');
                return;
              }
              try {
                const acc = await window.storage.get('doctor_account');
                if (acc) {
                  const data = JSON.parse(acc.value);
                  if (data.email === email && data.password === password) {
                    setDoctorName(data.name);
                    setIsLoggedIn(true);
                  } else {
                    setError('Invalid email or password. Please check your credentials and try again.');
                  }
                } else {
                  setError('No account found. Please sign up first to create an account.');
                }
              } catch (e) {
                setError(`Login failed: ${e.message || 'Unable to retrieve account data. Please try again.'}`);
              }
            }
          };

          const savePatients = async (data) => {
            try {
              await window.storage.set('patients', JSON.stringify(data));
            } catch (e) {}
          };

          const saveMedicines = async (data) => {
            try {
              await window.storage.set('medicines', JSON.stringify(data));
            } catch (e) {}
          };

          const savePrescriptions = async (data) => {
            try {
              await window.storage.set('prescriptions', JSON.stringify(data));
            } catch (e) {}
          };

          const addPatient = (data) => {
            const newPt = { id: Date.now().toString(), ...data, registrationDate: new Date().toISOString() };
            const updated = [...patients, newPt];
            setPatients(updated);
            savePatients(updated);
            setShowAddPatient(false);
            showSuccess('Patient added successfully!');
          };

          const addMedicine = (data) => {
            const newMed = { id: Date.now().toString(), ...data };
            const updated = [...medicines, newMed];
            setMedicines(updated);
            saveMedicines(updated);
            setShowAddMedicine(false);
            showSuccess('Medicine added successfully!');
          };

          const addPrescription = (data) => {
            const newRx = {
              id: Date.now().toString(),
              patientId: selectedPatient.id,
              patientName: selectedPatient.name,
              date: new Date().toISOString(),
              ...data
            };
            const updated = [...prescriptions, newRx];
            setPrescriptions(updated);
            savePrescriptions(updated);
            setShowPrescriptionForm(false);
            showSuccess('Prescription saved successfully!');
          };

          const filteredPts = patients.filter(p =>
            p.name.toLowerCase().includes(searchTerm.toLowerCase()) || (p.phone && p.phone.includes(searchTerm))
          );

          if (!isLoggedIn) {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
                <div className="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
                  <div className="text-center mb-8">
                    <div className="bg-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                      <User className="text-white" size={32} />
                    </div>
                    <h1 className="text-3xl font-bold text-gray-800 mb-2">Patient Management</h1>
                    <p className="text-gray-600">{isSignup ? 'Create Your Account' : 'Welcome Back'}</p>
                  </div>
                  
                  <div className="space-y-6">
                    {isSignup && (
                      <div>
                        <label className="block text-sm font-medium mb-2 text-gray-700">Doctor Name</label>
                        <input
                          type="text"
                          placeholder="Dr. John Smith"
                          className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                          value={name}
                          onChange={(e) => setName(e.target.value)}
                        />
                      </div>
                    )}
                    
                    <div>
                      <label className="block text-sm font-medium mb-2 text-gray-700">Email</label>
                      <input
                        type="email"
                        placeholder="doctor@clinic.com"
                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                        value={email}
                        onChange={(e) => setEmail(e.target.value)}
                      />
                    </div>
                    
                    <div>
                      <label className="block text-sm font-medium mb-2 text-gray-700">Password</label>
                      <input
                        type="password"
                        placeholder="••••••••"
                        className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                        value={password}
                        onChange={(e) => setPassword(e.target.value)}
                      />
                    </div>
                    
                    {error && (
                      <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
                        {error}
                      </div>
                    )}
                    
                    <button
                      onClick={handleSubmit}
                      className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors"
                      type="button"
                    >
                      {isSignup ? 'Create Account' : 'Login'}
                    </button>
                    
                    <div className="text-center">
                      <button
                        type="button"
                        onClick={() => {
                          setIsSignup(!isSignup);
                          setError('');
                          setName('');
                          setEmail('');
                          setPassword('');
                        }}
                        className="text-indigo-600 text-sm font-medium hover:text-indigo-700"
                      >
                        {isSignup ? 'Already have an account? Login' : "Don't have an account? Sign Up"}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          return (
            <div className="min-h-screen bg-gray-50">
              {successMessage && (
                <div className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50">
                  <div className="flex items-center gap-2">
                    <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                      <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
                    </svg>
                    <span className="font-medium">{successMessage}</span>
                  </div>
                </div>
              )}

              <div className="bg-white shadow-sm border-b">
                <div className="max-w-7xl mx-auto px-4 py-4">
                  <div className="flex justify-between items-center">
                    <div className="flex items-center gap-3">
                      <div className="bg-indigo-600 w-10 h-10 rounded-lg flex items-center justify-center">
                        <User className="text-white" size={24} />
                      </div>
                      <div>
                        <h1 className="text-xl font-bold">Dr. {doctorName}</h1>
                        <p className="text-sm text-gray-500">Patient Management</p>
                      </div>
                    </div>
                    <button
                      onClick={() => setIsLoggedIn(false)}
                      className="flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200"
                    >
                      <LogOut size={18} />
                      <span>Logout</span>
                    </button>
                  </div>
                </div>
              </div>

              <div className="bg-white border-b">
                <div className="max-w-7xl mx-auto px-4">
                  <div className="flex gap-8">
                    <button
                      onClick={() => setView('patients')}
                      className={`flex items-center gap-2 py-4 border-b-2 ${
                        view === 'patients' ? 'border-indigo-600 text-indigo-600' : 'border-transparent text-gray-600'
                      }`}
                    >
                      <User size={20} />
                      <span>Patients</span>
                    </button>
                    <button
                      onClick={() => setView('medicines')}
                      className={`flex items-center gap-2 py-4 border-b-2 ${
                        view === 'medicines' ? 'border-indigo-600 text-indigo-600' : 'border-transparent text-gray-600'
                      }`}
                    >
                      <Pill size={20} />
                      <span>Medicines</span>
                    </button>
                    <button
                      onClick={() => setView('prescriptions')}
                      className={`flex items-center gap-2 py-4 border-b-2 ${
                        view === 'prescriptions' ? 'border-indigo-600 text-indigo-600' : 'border-transparent text-gray-600'
                      }`}
                    >
                      <FileText size={20} />
                      <span>Prescriptions</span>
                    </button>
                  </div>
                </div>
              </div>

              <div className="max-w-7xl mx-auto px-4 py-8">
                {view === 'patients' && (
                  <div>
                    <div className="flex justify-between items-center mb-6">
                      <h2 className="text-2xl font-bold">Patient Records</h2>
                      <button
                        onClick={() => setShowAddPatient(true)}
                        className="flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700"
                      >
                        <Plus size={20} />
                        <span>Add Patient</span>
                      </button>
                    </div>
                    
                    <div className="mb-6 relative">
                      <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" size={20} />
                      <input
                        type="text"
                        placeholder="Search by name or phone..."
                        className="w-full pl-10 pr-4 py-3 border rounded-lg"
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                      />
                    </div>

                    <div className="grid gap-4">
                      {filteredPts.length === 0 ? (
                        <div className="text-center py-12 bg-white rounded-lg border-2 border-dashed">
                          <User className="mx-auto text-gray-400 mb-4" size={48} />
                          <p className="text-gray-600">No patients yet</p>
                        </div>
                      ) : (
                        filteredPts.map(pt => (
                          <div
                            key={pt.id}
                            onClick={() => setSelectedPatient(pt)}
                            className="bg-white p-6 rounded-lg shadow hover:shadow-md cursor-pointer border"
                          >
                            <div className="flex justify-between">
                              <div className="flex-1">
                                <h3 className="text-lg font-semibold mb-2">{pt.name}</h3>
                                <div className="grid grid-cols-2 gap-4 text-sm text-gray-600">
                                  <div><span className="font-medium">Age:</span> {pt.age}</div>
                                  <div><span className="font-medium">Gender:</span> {pt.gender}</div>
                                  <div><span className="font-medium">Phone:</span> {pt.phone || 'N/A'}</div>
                                  <div><span className="font-medium">Blood:</span> {pt.bloodGroup}</div>
                                </div>
                              </div>
                              <span className="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm h-fit">
                                {prescriptions.filter(p => p.patientId === pt.id).length} Rx
                              </span>
                            </div>
                          </div>
                        ))
                      )}
                    </div>
                  </div>
                )}
              </div>

              {showAddPatient && <AddPatientModal onClose={() => setShowAddPatient(false)} onAdd={addPatient} />}
              {selectedPatient && view === 'patients' && (
                <PatientDetailModal
                  patient={selectedPatient}
                  prescriptions={prescriptions.filter(p => p.patientId === selectedPatient.id)}
                  onClose={() => setSelectedPatient(null)}
                />
              )}
            </div>
          );
        };

        const AddPatientModal = ({ onClose, onAdd }) => {
          const [formData, setFormData] = React.useState({
            name: '', age: '', gender: 'Male', phone: '', email: '',
            address: '', bloodGroup: 'A+', allergies: '', medicalHistory: ''
          });
          const [errors, setErrors] = React.useState({});

          const validateField = (field, value) => {
            const newErrors = { ...errors };
            
            switch(field) {
              case 'name':
                if (!value || value.trim() === '') {
                  newErrors.name = 'Name is required';
                } else {
                  delete newErrors.name;
                }
                break;
              case 'age':
                if (!value || value <= 0) {
                  newErrors.age = 'Valid age is required';
                } else {
                  delete newErrors.age;
                }
                break;
              default:
                break;
            }
            
            setErrors(newErrors);
            return newErrors;
          };

          const handleFieldChange = (field, value) => {
            setFormData({...formData, [field]: value});
            validateField(field, value);
          };

          const isFormValid = () => {
            return formData.name && formData.name.trim() !== '' && 
                   formData.age && formData.age > 0;
          };

          const handleFormSubmit = () => {
            const finalErrors = {
              ...validateField('name', formData.name),
              ...validateField('age', formData.age)
            };
            
            if (Object.keys(finalErrors).length === 0) {
              onAdd(formData);
            }
          };

          return (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
              <div className="bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-auto" style={{ maxHeight: '90vh' }}>
                <div className="px-6 py-4 border-b flex justify-between items-center">
                  <h3 className="text-xl font-bold text-gray-900">Add New Patient</h3>
                  <button onClick={onClose} className="text-gray-400 hover:text-gray-600">
                    <X size={24} />
                  </button>
                </div>
                
                <div className="p-6 space-y-4">
                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <label className="block text-sm font-medium mb-2">Full Name *</label>
                      <input
                        type="text"
                        className={`w-full px-3 py-2 border rounded-lg ${errors.name ? 'border-red-500 bg-red-50' : ''}`}
                        placeholder="John Doe"
                        value={formData.name}
                        onChange={(e) => handleFieldChange('name', e.target.value)}
                        onBlur={() => validateField('name', formData.name)}
                      />
                      {errors.name && <p className="text-red-500 text-xs mt-1">{errors.name}</p>}
                    </div>
                    <div>
                      <label className="block text-sm font-medium mb-2">Age *</label>
                      <input
                        type="number"
                        className={`w-full px-3 py-2 border rounded-lg ${errors.age ? 'border-red-500 bg-red-50' : ''}`}
                        placeholder="25"
                        value={formData.age}
                        onChange={(e) => handleFieldChange('age', e.target.value)}
                        onBlur={() => validateField('age', formData.age)}
                      />
                      {errors.age && <p className="text-red-500 text-xs mt-1">{errors.age}</p>}
                    </div>
                  </div>

                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <label className="block text-sm font-medium mb-2">Gender</label>
                      <select
                        className="w-full px-3 py-2 border rounded-lg"
                        value={formData.gender}
                        onChange={(e) => handleFieldChange('gender', e.target.value)}
                      >
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                      </select>
                    </div>
                    <div>
                      <label className="block text-sm font-medium mb-2">Blood Group</label>
                      <select
                        className="w-full px-3 py-2 border rounded-lg"
                        value={formData.bloodGroup}
                        onChange={(e) => handleFieldChange('bloodGroup', e.target.value)}
                      >
                        {['A+', 'A-', 'B+', 'B-', 'O+', 'O-', 'AB+', 'AB-'].map(bg => <option key={bg}>{bg}</option>)}
                      </select>
                    </div>
                  </div>

                  <div>
                    <label className="block text-sm font-medium mb-2">Phone</label>
                    <input
                      type="tel"
                      className="w-full px-3 py-2 border rounded-lg"
                      placeholder="+1 234 567 8900"
                      value={formData.phone}
                      onChange={(e) => handleFieldChange('phone', e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium mb-2">Email</label>
                    <input
                      type="email"
                      className="w-full px-3 py-2 border rounded-lg"
                      placeholder="john@example.com"
                      value={formData.email}
                      onChange={(e) => handleFieldChange('email', e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium mb-2">Address</label>
                    <textarea
                      className="w-full px-3 py-2 border rounded-lg"
                      rows="2"
                      placeholder="123 Main St, City, State"
                      value={formData.address}
                      onChange={(e) => handleFieldChange('address', e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium mb-2">Known Allergies</label>
                    <input
                      type="text"
                      placeholder="e.g., Penicillin, Peanuts"
                      className="w-full px-3 py-2 border rounded-lg"
                      value={formData.allergies}
                      onChange={(e) => handleFieldChange('allergies', e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium mb-2">Medical History</label>
                    <textarea
                      className="w-full px-3 py-2 border rounded-lg"
                      rows="3"
                      placeholder="Previous conditions, surgeries..."
                      value={formData.medicalHistory}
                      onChange={(e) => handleFieldChange('medicalHistory', e.target.value)}
                    />
                  </div>
                </div>

                <div className="px-6 py-4 bg-gray-50 border-t flex gap-3 rounded-b-xl">
                  <button
                    onClick={handleFormSubmit}
                    disabled={!isFormValid()}
                    className={`flex-1 py-3 rounded-lg font-semibold ${
                      isFormValid() ? 'bg-indigo-600 text-white hover:bg-indigo-700' : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                    }`}
                  >
                    Add Patient
                  </button>
                  <button
                    onClick={onClose}
                    className="flex-1 bg-white border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </div>
          );
        };

        const PatientDetailModal = ({ patient, prescriptions, onClose }) => {
          return (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
              <div className="bg-white rounded-xl shadow-2xl w-full max-w-4xl overflow-auto" style={{ maxHeight: '90vh' }}>
                <div className="px-6 py-4 border-b flex justify-between items-center sticky top-0 bg-white">
                  <h3 className="text-xl font-bold">Patient Details</h3>
                  <button onClick={onClose} className="text-gray-400 hover:text-gray-600">
                    <X size={24} />
                  </button>
                </div>
                
                <div className="p-6">
                  <div className="bg-gradient-to-r from-indigo-50 to-blue-50 p-6 rounded-lg mb-6">
                    <h4 className="text-2xl font-bold mb-4">{patient.name}</h4>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                      <div>
                        <span className="text-gray-600">Age:</span>
                        <p className="font-semibold">{patient.age} years</p>
                      </div>
                      <div>
                        <span className="text-gray-600">Gender:</span>
                        <p className="font-semibold">{patient.gender}</p>
                      </div>
                      <div>
                        <span className="text-gray-600">Blood:</span>
                        <p className="font-semibold">{patient.bloodGroup}</p>
                      </div>
                      {patient.phone && (
                        <div>
                          <span className="text-gray-600">Phone:</span>
                          <p className="font-semibold">{patient.phone}</p>
                        </div>
                      )}
                      {patient.email && (
                        <div>
                          <span className="text-gray-600">Email:</span>
                          <p className="font-semibold">{patient.email}</p>
                        </div>
                      )}
                      <div>
                        <span className="text-gray-600">Registered:</span>
                        <p className="font-semibold">{new Date(patient.registrationDate).toLocaleDateString()}</p>
                      </div>
                    </div>
                    
                    {patient.address && (
                      <div className="mt-4">
                        <span className="text-gray-600">Address:</span>
                        <p className="font-semibold">{patient.address}</p>
                      </div>
                    )}
                    
                    {patient.allergies && (
                      <div className="mt-4">
                        <span className="text-red-600 font-medium">⚠️ Allergies:</span>
                        <p className="font-semibold text-red-800 mt-1">{patient.allergies}</p>
                      </div>
                    )}
                    
                    {patient.medicalHistory && (
                      <div className="mt-4">
                        <span className="text-gray-600">History:</span>
                        <p className="mt-1">{patient.medicalHistory}</p>
                      </div>
                    )}
                  </div>

                  <div>
                    <h4 className="text-lg font-bold mb-4">Prescription History ({prescriptions.length})</h4>
                    
                    {prescriptions.length === 0 ? (
                      <div className="text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed">
                        <FileText className="mx-auto text-gray-400 mb-4" size={48} />
                        <p className="text-gray-600">No prescriptions yet</p>
                      </div>
                    ) : (
                      <div className="space-y-4">
                        {prescriptions.sort((a, b) => new Date(b.date) - new Date(a.date)).map(rx => (
                          <div key={rx.id} className="bg-white border-2 rounded-lg p-5">
                            <div className="flex justify-between items-start mb-4">
                              <div>
                                <h5 className="font-bold">{rx.diagnosis}</h5>
                                <p className="text-sm text-gray-600">
                                  {new Date(rx.date).toLocaleDateString()} at {new Date(rx.date).toLocaleTimeString()}
                                </p>
                              </div>
                            </div>
                            
                            <div className="mb-4">
                              <p className="text-sm font-medium mb-2">Medicines:</p>
                              <div className="space-y-2">
                                {rx.medicines.map((med, idx) => (
                                  <div key={idx} className="bg-indigo-50 p-3 rounded">
                                    <p className="font-semibold">{med.name}</p>
                                    <p className="text-sm text-gray-700 mt-1">
                                      <span className="font-medium">When:</span> {Array.isArray(med.frequency) ? med.frequency.join(', ') : med.frequency}
                                    </p>
                                    <p className="text-sm text-gray-700">
                                      <span className="font-medium">Duration:</span> {med.duration}
                                    </p>
                                  </div>
                                ))}
                              </div>
                            </div>
                            
                            {rx.notes && (
                              <div className="bg-amber-50 border-l-4 border-amber-400 p-3 rounded">
                                <p className="text-sm font-medium text-amber-900">Notes:</p>
                                <p className="text-sm text-amber-800 mt-1">{rx.notes}</p>
                              </div>
                            )}
                          </div>
                        ))}
                      </div>
                    )}
                  </div>
                </div>

                <div className="px-6 py-4 bg-gray-50 border-t flex justify-end sticky bottom-0 rounded-b-xl">
                  <button
                    onClick={onClose}
                    className="bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-indigo-700"
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<PatientManagementApp />, document.getElementById('root'));
    </script>
</body>
</html>
